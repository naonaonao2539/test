import streamlit as st
import pandas as pd

# データの準備
data = {
    "店舗名": [
        "大阪店", "大阪店", "大阪店", "大阪店", "大阪店", "大阪店",
        "東京店", "東京店", "東京店", "東京店", "東京店", "東京店",
        "香川店", "香川店", "香川店", "香川店", "香川店", "香川店",
        "兵庫店", "兵庫店", "兵庫店", "兵庫店", "兵庫店", "兵庫店",
    ],
    "項目": [
        "売上数", "売上額", "仕入額", "粗利額", "値引き額", "客数",
        "売上数", "売上額", "仕入額", "粗利額", "値引き額", "客数",
        "売上数", "売上額", "仕入額", "粗利額", "値引き額", "客数",
        "売上数", "売上額", "仕入額", "粗利額", "値引き額", "客数",
    ],
    "2021年": [
        700, 900, 800, 900, 400, 600,
        600, 300, 700, 900, 900, 500,
        800, 700, 600, 900, 900, 200,
        300, 400, 800, 300, 300, 300,
    ],
    "2022年": [
        500, 400, 600, 900, 200, 900,
        500, 600, 500, 300, 800, 300,
        700, 900, 500, 400, 700, 200,
        200, 500, 800, 700, 700, 300,
    ],
    "2023年": [
        400, 400, 200, 900, 300, 200,
        400, 500, 200, 200, 600, 400,
        400, 300, 500, 500, 900, 600,
        200, 600, 200, 900, 400, 300,
    ],
    "2024年": [
        400, 700, 800, 900, 700, 600,
        700, 300, 500, 900, 900, 800,
        600, 800, 800, 200, 300, 700,
        300, 900, 200, 400, 900, 400,
    ],
}

# DataFrameを作成
df = pd.DataFrame(data)

# Streamlitアプリ
st.title("店舗別データ表示")
st.write("表示する項目と年を選択してください。")

# 項目の選択ウィジェット
items = df["項目"].unique()
selected_items = st.multiselect("表示する項目を選択", options=items, default=items)

# 年の選択ウィジェット
years = ["2021年", "2022年", "2023年", "2024年"]
selected_years = st.multiselect("表示する年を選択", options=years, default=years)

# データのフィルタリング
filtered_df = df[df["項目"].isin(selected_items)]

# 選択された年のみを表示
columns_to_display = ["店舗名", "項目"] + selected_years
filtered_df = filtered_df[columns_to_display]

# テーブルを表示
st.dataframe(filtered_df)